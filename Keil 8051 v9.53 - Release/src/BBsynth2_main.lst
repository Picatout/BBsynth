C51 COMPILER V9.53.0.0   BBSYNTH2_MAIN                                                     01/07/2018 07:31:08 PAGE 1   


C51 COMPILER V9.53.0.0, COMPILATION OF MODULE BBSYNTH2_MAIN
OBJECT MODULE PLACED IN .\src\BBsynth2_main.OBJ
COMPILER INVOKED BY: c:\SiliconLabs\SimplicityStudio\v4\developer\toolchains\keil_8051\9.53\BIN\C51.exe C:\Users\Jacques
                    -\SimplicityStudio\v4_workspace\BBsynth2\src\BBsynth2_main.c OMF2 SMALL DEBUG OBJECTEXTEND ROM(LARGE) WARNINGLEVEL(2) FLO
                    -ATFUZZY(3) OPTIMIZE(9,SPEED) DEFINE(NDEBUG=1) INTVECTOR(0X0000) INTPROMOTE INCDIR(C:\Users\Jacques\SimplicityStudio\v4_w
                    -orkspace\BBsynth2\inc;C:/SiliconLabs/SimplicityStudio/v4/developer/sdks/8051/v4.1.0//Device/shared/si8051base;C:/Silicon
                    -Labs/SimplicityStudio/v4/developer/sdks/8051/v4.1.0//Device/EFM8BB1/inc) REGFILE(BBsynth2.ORC) PRINT(.\src\BBsynth2_main
                    -.lst) COND PAGEWIDTH(120) PAGELENGTH(65) OBJECT(.\src\BBsynth2_main.OBJ)

line level    source

   1          //=========================================================
   2          // src/BBsynth2_main.c: generated by Hardware Configurator
   3          //
   4          // This file will be updated when saving a document.
   5          // leave the sections inside the "$[...]" comment tags alone
   6          // or they will be overwritten!!
   7          //=========================================================
   8          
   9          //-----------------------------------------------------------------------------
  10          // Includes
  11          //-----------------------------------------------------------------------------
  12          #include <SI_EFM8BB1_Register_Enums.h>                  // SFR declarations
  13          #include "InitDevice.h"
  14          // $[Generated Includes]
  15          // [Generated Includes]$
  16          
  17          //-----------------------------------------------------------------------------
  18          // SiLabs_Startup() Routine
  19          // ----------------------------------------------------------------------------
  20          // This function is called immediately after reset, before the initialization
  21          // code is run in SILABS_STARTUP.A51 (which runs before main() ). This is a
  22          // useful place to disable the watchdog timer, which is enable by default
  23          // and may trigger before main() in some instances.
  24          //-----------------------------------------------------------------------------
  25          void SiLabs_Startup (void)
  26          {
  27   1        // $[SiLabs Startup]
  28   1        // [SiLabs Startup]$
  29   1      }
  30          extern unsigned int step;
  31          
  32          // equal tempered scale C5 to C6
  33          #define C5 (0)
  34          #define Cs5 (1)
  35          #define D5 (2)
  36          #define Ds5 (3)
  37          #define E5 (4)
  38          #define F5 (5)
  39          #define Fs5 (6)
  40          #define G5 (7)
  41          #define Gs5 (8)
  42          #define A5 (9)
  43          #define As5 (10)
  44          #define B5 (11)
  45          
  46          
  47          code unsigned int scale[12]={
  48          488,  //C5 523 Hertz
  49          460,  //Cs5
  50          435, // D5
  51          410, //Ds5
C51 COMPILER V9.53.0.0   BBSYNTH2_MAIN                                                     01/07/2018 07:31:08 PAGE 2   

  52          387, //E5
  53          365, // F5
  54          345, // Fs5
  55          326, // G5
  56          307, // Gs5
  57          290, //A5 880 Hertz
  58          274, //As5
  59          258,  //B5
  60          };
  61          
  62          //-----------------------------------------------------------------------------
  63          // main() Routine
  64          // ----------------------------------------------------------------------------
  65          int main (void)
  66          {
  67   1              unsigned int i,keys;
  68   1        // Call hardware initialization routine
  69   1        enter_DefaultMode_from_RESET();
  70   1        step=0;
  71   1        while (1) 
  72   1        {
  73   2          // $[Generated Run-time code]
  74   2          // [Generated Run-time code]$
  75   2              keys=(P2&1)+(P0&0xfe)+((P1&0xf)<<8);
  76   2      //      if (!P2_B0) step=scale[0];
  77   2      //      else if (!P0_B1)step=scale[1];
  78   2      //      else step=0;
  79   2              for (i=0;i<12;i++){
  80   3                      if (!(keys&(1<<i))){
  81   4                              step=scale[i];
  82   4                              break;
  83   4                      }//if
  84   3              }//for
  85   2              if (i==12){
  86   3                      step=0;
  87   3                      P0_B0=1;
  88   3              }//if
  89   2        }//while
  90   1      }//main()


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    121    ----
   CONSTANT SIZE    =     24    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
